/*! For license information please see engine-worker.js.LICENSE.txt */
!function(){this.global=this,this.window=this}(),(()=>{var t={7053:t=>{"use strict";t.exports=JSON.parse('{"FIT_LABEL":"fit","CROSS_LABEL":"cross","VALIDATION_LABEL":"validation","LOG":"log","K_ORDER_DIFFERENCE":"k_order_difference","STANDARDIZE":"standardize","RESCALE":"rescale","DELETE":"delete"}')},43770:t=>{"use strict";t.exports=JSON.parse('[{"id":"X","show":false},{"id":"y","show":false},{"id":"v","show":false},{"id":"w","show":false},{"id":"VdivwSq","show":false},{"id":"BHat","show":false},{"id":"yHat","show":false},{"id":"Vary","show":false},{"id":"nd","globalOnly":true,"format":"int","description":"Number of data (rows) in the corresponding Data Table (Fit, Cross or Validate)"},{"id":"np","globalOnly":true,"format":"int","description":"Number of parameters (or terms) in the Current Model"},{"id":"SSE","sort":">","description":"Sum of squares of the residual errors"},{"id":"TSS","globalOnly":true,"description":"Total sum of squares"},{"id":"SSR","description":"Sum of squares due to regression"},{"id":"MSE","description":"Mean square error (variance of the residual errors)"},{"id":"PLACEHOLDER"},{"id":"Rsq","sort":"<","description":"Square of the multiple correlation coefficient"},{"id":"adjRsq","sort":"<","description":"Adjusted R-squared - similar to Rsq, but penalizes for model complexity"},{"id":"PLACEHOLDER"},{"id":"MaxAbsErr","displayName":"Max|Err|","sort":">","description":"Maximum of the absolute value of the residual errors"},{"id":"RMSE","sort":">","description":"Square root of the mean square error"},{"id":"SKEW","sort":"<","description":"Skewness"},{"id":"XKURT","sort":"<","description":"Excess kurtosis"},{"id":"PLACEHOLDER"},{"id":"AIC","sort":">","description":"Akaike Information Criterion"},{"id":"BIC","sort":">","description":"Bayesian Information Criterion"},{"id":"F","sort":"<","description":"F-statistic"},{"id":"pF","displayName":"p(F)","sort":">","description":"Probability that a larger value of the F-statistic occurs by chance. This is a test of overall model fitness."},{"id":"PLACEHOLDER"},{"id":"seSKEW","displayName":"s.e. SKEW","sort":"<","description":"Estimated standard error of the skewness. If SKEW > 2*s.e.SKEW, there is evidence that residual errors are not normally distributed."},{"id":"seXKURT","displayName":"s.e. XKURT","sort":"<","description":"Estimated standard error of the kurtosis. If |ExKurt|> 2*s.e.ExKurt, there is evidence that residual errors are not normally distributed."},{"id":"t","sort":"|<|","candidateOnly":true,"default":true,"description":"The t-statistic used to determine how significant this term is. A value above about 2.0 is usually considered significant."},{"id":"pt","displayName":"p(t)","sort":">","candidateOnly":true,"default":true,"description":"The probability that this term occurs by chance. Cell is colored green if p(t) > alpha (default alpha = 0.05)."},{"id":"stdev","show":false},{"id":"mean","show":false},{"id":"weights","show":false},{"id":"log","show":false},{"id":"mean","show":false},{"id":"std","show":false},{"id":"standardize","show":false},{"id":"RMS","show":false},{"id":"rescale","show":false},{"id":"k_order_difference","show":false}]')},35493:t=>{"use strict";t.exports=JSON.parse('{"LOG":"log","K_ORDER_DIFFERENCE":"K-Order_difference","STANDARDIZE":"Standardize","RESCALE":"Scale_by_RMS","Transform":{"delete":0,"log":1,"k_order_diff":2,"standardize":3,"rescale":4}}')},28755:(t,e,n)=>{function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var i=n(47483),o=Symbol("data"),s=Symbol("m"),u=Symbol("n"),c=Math.pow(2,53)-1;function f(t,e,n){var r,a;for(r=0;r<t[u];r+=1)a=t[o][n*t[u]+r],t[o][n*t[u]+r]=t[o][e*t[u]+r],t[o][e*t[u]+r]=a}function l(t,e,n,r){var a;for(a=0;a<t[u];a+=1)t[o][n*t[u]+a]/=r,e[o][n*t[u]+a]/=r}function h(t,e,n,r){var a,i,c;for(i=0;i<t[s];i+=1)if(c=t[o][i*t[u]+r],i!==n)for(a=0;a<t[u];a+=1)t[o][i*t[u]+a]-=t[o][n*t[u]+a]*c,e[o][i*t[u]+a]-=e[o][n*t[u]+a]*c}var d=function(){function t(e,n,a){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(r(this,t),e instanceof t)return e;if(Array.isArray(e))return t.from(e);if(null!=a){if((a=a instanceof Float64Array?a:Float64Array.from(a)).length!==e*n)throw new Error("Array does not match the specified dimensions")}else a=new Float64Array(e*n);for(var c=new Array(n).fill(!0),f=n,l=0;l<n;l++)for(var h=0;h<e;h++)if(!i&&isNaN(a[h*n+l])){c[l]=!1,f-=1;break}if(f!=n){for(var d=new Float64Array(f*e),p=0,y=0;y<e*n;y++){var v=y%n;c[v]&&(d[p++]=a[y])}a=d,n=f}return this[o]=a,this[s]=e,this[u]=n,this}var e,n,d;return e=t,d=[{key:"random",value:function(e,n){var r,a,i=new t(e,n);for(r=0;r<e;r+=1)for(a=0;a<n;a+=1)i[o][r*n+a]=Math.random();return i}},{key:"eye",value:function(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,a=new t(e,r);for(n=0;n<e;n+=1)a[o][n*r+n]=1;return a}},{key:"from",value:function(e,n,r){if(e instanceof t)return e.clone();if(!Array.isArray(e))throw new TypeError("Expected an array or Matrix");if(e.length<=0)return new t(0,0);var a;if(n=n||e.length,r=r||e[0].length,null==e[0].length)return new t(1,e.length,Float64Array.from(e));for(a=0;a<e.length;a+=1)if(e[a].length!==r)throw new Error("All rows must have equal length");return new t(n,r,Float64Array.from(i.join(e)))}},{key:"diag",value:function(e){var n,r=e.length,a=new t(r,r);for(n=0;n<r;n+=1)a.data[n*r+n]=e[n];return a}},{key:"zeros",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;return this.eye(t,e).dotMultiply(0)}}],(n=[{key:"get",value:function(t,e){return this[o][t*this[u]+e]}},{key:"set",value:function(t,e,n){return this[o][t*this[u]+e]=n}},{key:"add",value:function(t){var e,n=this.clone();if("number"==typeof t)for(e=0;e<n[o].length;e+=1)n[o][e]+=t;else{if(this[s]!==t[s]||this[u]!==t[u])throw new Error("Dimensions ("+this.shape+") and ("+t.shape+") do not match: "+this[u]+" !== "+t[s]+" && "+this[s]+" !== "+t[s]);for(e=0;e<n[o].length;e+=1)n[o][e]+=t[o][e]}return n}},{key:"sub",value:function(t){var e,n=this.clone();if("number"==typeof t)for(e=0;e<n[o].length;e+=1)n[o][e]-=t;else{if(this[s]!==t[s]||this[u]!==t[u])throw new Error("Dimensions ("+this.shape+") and ("+t.shape+") do not match: "+this[u]+" !== "+t[s]+" && "+this[s]+" !== "+t[s]);for(e=0;e<n[o].length;e+=1)n[o][e]-=t[o][e]}return n}},{key:"dot",value:function(e){if(this[u]!==e[s])throw new Error("Dimensions ("+this.shape+") and ("+e.shape+") do not match: "+this[u]+" !== "+e[s]);var n,r,a,i,c=new t(this[s],e[u]);for(n=0;n<this[s];n+=1)for(r=0;r<e[u];r+=1){for(a=0,i=0;a<this[u];a+=1)i+=this[o][n*this[u]+a]*e[o][a*e[u]+r];c[o][n*e[u]+r]=i}return c}},{key:"inv",value:function(){if(this[s]!==this[u])throw new Error("Must be square");var e,n,r,a=this.clone(),i=t.eye(this[s],this[u]);for(e=0,n=0;e<a[s]&&n<a[u];e+=1,n+=1){if(0===a[o]){for(r=0;0!==a[o][r*a[u]+n]&&r<a[s];r+=1);if(r>=a[s]){n+=1;continue}f(a,n,r),f(i,n,r)}l(a,i,n,a[o][n*a[u]+n]),h(a,i,e,n)}return i}},{key:"clone",value:function(){return new t(this[s],this[u],this[o].slice())}},{key:"hstack",value:function(e){if(this[s]!==e[s])throw new Error("Dimensions ("+this.shape+") and ("+e.shape+") do not match: "+this[s]+" !== "+e[s]);var n,r,a=this[u]+e[u],i=new t(this[s],a);for(n=0;n<this[s];n+=1){for(r=0;r<this[u];r+=1)i[o][n*a+r]=this[o][n*this[u]+r];for(r=0;r<e[u];r+=1)i[o][n*a+this[u]+r]=e[o][n*e[u]+r]}return i}},{key:"vstack",value:function(e){if(this[u]!==e[u])throw new Error("Dimensions ("+this.shape+") and ("+e.shape+") do not match: "+this[u]+" !== "+e[u]);var n=new t(this[s]+e[s],this[u]);return n[o].subarray(0,this[s]*this[u]).set(this[o]),n[o].subarray(this[s]*this[u]).set(e[o]),n}},{key:"dotPow",value:function(t){var e,n=this.clone();for(e=0;e<n[o].length;e+=1)n[o][e]=Math.pow(n[o][e],t),Number.isFinite(n[o][e])||(n[o][e]=c);return n}},{key:"dotMultiply",value:function(e){var n,r=this.clone();if("number"==typeof e)for(n=0;n<r[o].length;n+=1)r[o][n]=r[o][n]*e;else if(e instanceof t)for(n=0;n<r[o].length;n+=1)r[o][n]=r[o][n]*e[o][n];return r}},{key:"dotDivide",value:function(e){var n,r,a=this.clone();if("number"==typeof e)for(n=0;n<a[o].length;n+=1)a[o][n]=a[o][n]/e;else if(e instanceof t)for(n=0,r=0;n<a[o].length;n+=1,r+=1)r>=e[o].length&&(r=0),a[o][n]=a[o][n]/e[o][r];return a}},{key:"log",value:function(){var t,e=this.clone();for(t=0;t<e[o].length;t+=1)e[o][t]=Math.log10(e[o][t]);return e}},{key:"appendM",value:function(e){var n,r,a=e.shape,i=this[s],c=this[u]+a[1],f=new t(i,c);for(n=0;n<i;n+=1)for(r=0;r<c;r+=1){var l=r-this[u],h=l>=0?e[o][n*a[1]+l]:this[o][n*this[u]+r];f[o][n*c+r]=h}return f}},{key:"toString",value:function(){return this.inspect()}},{key:"toJSON",value:function(){var t,e;for(t=1,e=[];t<=this[s];t+=1)e.push(Array.from(this[o].slice((t-1)*this[u],t*this[u])));return e}},{key:"inspect",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{stylize:function(t){return""+t}},r=n.stylize(this.constructor.name,"none"),a=Array.from(this[o]).map((function(t){return(""+t).match(/(NaN|-?Infinity|-?\d*)\.?(\d*)/)})),c=Math.max.apply(null,a.map((function(t){return t[1].length}))),f=Math.min(Math.max.apply(null,a.map((function(t){return t[2].length}))),5),l=[];for(a=Array.from(this[o]).map((function(t){return n.stylize(i.formatNum(c,f,t),"number")})),e=0;e<this[s];e+=1)l.push("[ "+a.slice(e*this[u],(e+1)*this[u]).join(", ")+" ]");return r+" "+i.padAll(this.constructor.name.length+1,l.join("\n")).trim()}},{key:"col",value:function(e,n){var r,a=new t(this[s],1);if(null!=n){if(n.length>this[s])throw new RangeError("newCol cannot be longer than "+this[s]);for(r=0;r<this[s];r+=1)this[o][r*this[u]+e]=n[r]}for(r=0;r<this[s];r+=1)a[o][r]=this[o][r*this[u]+e];return a}},{key:"row",value:function(e,n){if(null!=n){if(n.length>this[u])throw new RangeError("newRow cannot be longer than "+this[u]);this[o].subarray(e*this[u]).set(n)}return new t(1,this[u],this[o].slice(e*this[u],(e+1)*this[u]))}},{key:"subset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:":",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:":";e=i.convertRange(e,this[s]),n=i.convertRange(n,this[u]);var r,a,c=new t(e.length,n.length);for(r=0;r<e.length;r+=1)for(a=0;a<n.length;a+=1)c[o][r*c[u]+a]=this[o][e[r]*this[u]+n[a]];return c}},{key:"lo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new t(this[s]-e,this[u],this[o].slice(e*this[u]))}},{key:"hi",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new t(e,this[u],this[o].slice(0,e*this[u]))}},{key:"delColumn",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=this[u];return new t(this[s],this[u]-1,this[o].filter((function(t,r){return r%n!==e})))}},{key:"shift",value:function(e){var n=new Float64Array(this[s]*this[u]);return n.subarray(this[u]*e).set(this[o].subarray(0,-this[u]*e||this[o].length)),new t(this[u],this[s],n)}},{key:"diag",value:function(){var e,n=new t(1,Math.min(this[s],this[u]));for(e=0;e<this[s]&&e<this[u];e+=1)n[o][e]=this[o][e*this[u]+e];return n}},{key:"abs",value:function(){var t,e=this.clone();for(t=0;t<e[o].length;t+=1)e[o][t]=Math.abs(e[o][t]);return e}},{key:"sum",value:function(){var t,e=0;for(t=0;t<this[o].length;t+=1)e+=this[o][t];return e}},{key:"prod",value:function(){var t,e=1;for(t=0;t<this[o].length;t+=1)e*=this[o][t];return e}},{key:"min",value:function(){var t,e;for(t=0,e=1/0;t<this[o].length;t+=1)e=Math.min(e,this[o][t]);return e}},{key:"max",value:function(){var t,e;for(t=0,e=-1/0;t<this[o].length;t+=1)e=Math.max(e,this[o][t]);return e}},{key:"T",get:function(){var e,n,r=new t(this[u],this[s]);for(e=0;e<this[s];e+=1)for(n=0;n<this[u];n+=1)r[o][n*this[s]+e]=this[o][e*this[u]+n];return r}},{key:"shape",get:function(){return[this[s],this[u]]}},{key:"data",get:function(){return this[o]}}])&&a(e.prototype,n),d&&a(e,d),t}();t.exports=d},66030:(t,e,n)=>{t.exports=n(28755)},45607:t=>{function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function r(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function o(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var a=u(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return s(this,n)}}function s(t,n){return!n||"object"!==e(n)&&"function"!=typeof n?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):n}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var f=Symbol("cache"),l=Symbol("CacheMixin_ref"),h=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return function t(){c(this,t)}}();return function(t){a(n,t);var e=o(n);function n(){var t;return c(this,n),(t=e.apply(this,arguments))[f]={},t}return r(n,[{key:"uncache",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];if(n.toString(),null==t)return this[f]={},this;if(null==this[f][t])return this;if(n.length<=0)return this[f][t]={},this;var a=this[t],i=a.defaultArgs,o=a.originalLength;return(n=n.concat(i.slice(n.length))).length=o+i.length,delete this[f][t][n.toString()],this}}],[{key:l,get:function(){return!0}}]),n}(t)};h.cache=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=t.prototype[e];if(!0!==t[l])throw new TypeError("Class must extend CacheMixin");if(null==r)throw new ReferenceError("".concat(t.name,".prototype.").concat(e," is not a function"));t.prototype[e]=function(){var t=Array.prototype.slice.apply(arguments).concat(n.slice(arguments.length));t.length=r.length+n.length;var a=t.toString();return null==this[f][e]&&(this[f][e]={}),a in this[f][e]||(this[f][e][a]=r.apply(this,t)),this[f][e][a]},t.prototype[e].defaultArgs=n,t.prototype[e].originalLength=r.length},t.exports=h},61923:(t,e,n)=>{function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var a,i=n(7053),o=i.FIT_LABEL,s=i.CROSS_LABEL,u=i.VALIDATION_LABEL,c=n(62182),f=(a=0,function(){return a+=1});function l(t){return{m:t.shape[0],n:t.shape[1],data:t.data}}var h=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"undefined"==typeof Worker||!Worker)throw new Error("Web workers unavailable");this.id=f(),this.worker=new Worker("candidate-worker.js"),this.model=e}var e,n;return e=t,(n=[{key:"compute",value:function(t,e){var n=this,r=Math.floor(1e16*Math.random()).toString(16);return new Promise((function(a,i){n.worker.addEventListener("message",(function(i){var o=i.data,s=o.data,u=o.type;if(o.jobId===r)switch(u){case"progress":e&&e(n.id,s);break;case"result":a(s.map((function(e,n){return{term:t[n].valueOf(),coeff:e.coeff,stats:e}}))),c.end("candidate-worker");break;default:console.error("[CandidateWorker".concat(n.id,"]: Invalid type '").concat(u,"'"))}})),c.start("candidate-worker");var f,h,d=[],p={X:l(n.model.X(o)),y:l(n.model.y(o))};try{f={X:l(n.model.X(s)),y:l(n.model.y(s))}}catch(t){f=p}try{h={X:l(n.model.X(u)),y:l(n.model.y(u))}}catch(t){h=p}var y=t.map((function(t){var e;try{e=l(t.col(o))}catch(t){}var r,a,i=Math.max(n.model.highestLag(),t.lag);try{r=l(t.col(s)),a=l(t.col(u))}catch(t){r=e,a=e}return e&&(d.push(e.data,r.data),d.push(e.data,a.data)),{fit:e,lag:i,cross:r,validation:a}}));n.worker.postMessage({fit:p,cross:f,validation:h,candidates:y,jobId:r},d)}))}}])&&r(e.prototype,n),t}();t.exports=h},88811:(t,e,n)=>{function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function o(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?s(t):e}function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var c=n(66030),f=n(86308).N,l=n(66911),h=n(47483),d=n(62182),p=n(18436),y=n(7053),v=y.FIT_LABEL,m=y.CROSS_LABEL,g=y.VALIDATION_LABEL,b=y.LOG,w=y.K_ORDER_DIFFERENCE,S=y.STANDARDIZE,k=y.RESCALE,M=y.DELETE,E=n(61923),R=n(27746),x=n(45607),_=n(18936),L=Symbol("data"),T=Symbol("exponents"),A=Symbol("multiplicands"),O=Symbol("lags"),C=Symbol("dependent"),D=Symbol("useCols"),I=Symbol("subsets"),X=Symbol("terms"),N=Symbol("candWorkers"),P=[[0,0,0]],j=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(x,t);var e,n,r,p,y=(r=x,p=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=u(r);if(p){var n=u(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return o(this,t)});function x(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,x),(t=y.call(this))[L]={},t[L][v]=new c(0,0),t[T]=[1],t[A]=[1],t[O]=[0],t[C]=0,t[D]=[],t[I]={},t[I][v]=[];try{t[N]=h.range(0,8).map((function(){return new E(s(t))}))}catch(e){t[N]=null}return t.termpool=new R(s(t)),t[X]=[t.termpool.get(P)],t}return e=x,(n=[{key:"clear",value:function(){return this[X]=[],this.uncache("X"),this.uncache("y"),this.uncache("highestLag"),this.fire("clear"),this}},{key:"transformColumn",value:function(t,e){var n=this,r=e.index;return void 0===r||isNaN(r)||((e.data_labels||[v,m,g]).map((function(a){if(n[L][a]){var i=n[L][a].col(r);switch(t){case M:n.setData(n[L][a].delColumn(r),a);break;case b:var o=l.compute(t,{X:i});n.setData(n[L][a].appendM(o),a);break;case w:var s=e.k;o=l.compute(t,{X:i,k:s}),n.setData(n[L][a].appendM(o),a);break;case S:var u=l.compute("mean",{X:i}),c=l.compute("std",{X:i,mean:u});console.log("Mean",u),console.log("Std",c),o=l.compute(t,{X:i,mean:u,std:c}),n.setData(n[L][a].appendM(o),a);break;case k:var f=l.compute("RMS",{X:i});o=l.compute(t,{X:i,RMS:f}),n.setData(n[L][a].appendM(o),a)}}})),this.fire("dataTransform",{label:t,index:r})),this}},{key:"setData",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v;n=null==n?v:n,!(t=null==t?void 0:t)||t instanceof c||(t=new c(t)),t&&(n!==v&&t.shape[1]!==this[L][v].shape[1]||(this[D]=h.range(0,t.shape[1])));var r=this[L][n];return this[L][n]=t,this[I][n]=t?h.range(0,t.shape[0]):void 0,this[X]=this[X].map((function(t){return t.isIntercept?e.termpool.get(P):t})),this.uncache("X"),this.uncache("y"),this.uncache("data"),this.uncache("highestLag"),this.termpool.uncache(),this.fire("setData",{data:t,label:n}),void 0===r&&(n==m||n==g)&&t&&t.shape[1]<this[L][v].shape[1]&&this.fire("propogateTransform",{data_label:n}),this}},{key:"getCandidateTerms",value:function(){var t=this,e=this[D].filter((function(e){return e!==t[C]})),n=_.generateTerms(this[C],e,this[T],this[A],this[O]).map(this.termpool.get.bind(this.termpool));return n.unshift(this.termpool.get(P)),n}},{key:"getCandidates",value:function(){var t=this;if(null==this[N])return this.getCandidatesSync();this.fire("getCandidates.start"),d.start("get-candidate-terms");var e=this.getCandidateTerms();d.end("get-candidate-terms"),e=e.filter((function(e){return!t[X].includes(e)}));var n=h.split(e,this[N].length),r=h.zeros(this[N].length),a=function(n,a){r[n]=a,t.fire("getCandidates.each",{curr:h.sum(r),total:e.length})},i=n.map((function(e,n){return t[N][n].compute(e,a)}));return Promise.all(i).then((function(e){return t.fire("getCandidates.end"),h.join(e)}))}},{key:"getLabelData",value:function(t){return this[L][t]}},{key:"getModel",value:function(t){var e=this.highestLag(),n=this.X().lo(e),r=this.y().lo(e),a=l(f(n,r));null!=t&&(a=l(f(this.X(t).lo(e),this.y(t).lo(e),a.weights)));var i=Array.from(a.yHat.data),o=this[X].map((function(t,e){return{term:t.valueOf(),coeff:a.weights.get(e,0),stats:{t:a.t.get(e,0),pt:a.pt.get(e,0)}}})),s=a.y.sub(a.yHat);return s=s.data,{highestLag:this.highestLag(),terms:o,stats:a,predicted:i,residuals:s}}},{key:"getCandidatesSync",value:function(){var t=this;this.fire("getCandidates.start");var e,n=this.getCandidateTerms();return e=n.filter((function(e){return!t[X].includes(e)})).map((function(e,r){t.fire("getCandidates.each",{curr:r,total:n.length});try{var a=e.getStats();return{term:e.valueOf(),coeff:a.coeff,stats:a}}catch(t){return null}})).filter((function(t){return null!=t})),this.fire("getCandidates.end"),Promise.resolve(e)}},{key:"setExponents",value:function(t){return this[T]=t.slice(),this.fire("setExponents",t),this}},{key:"setMultiplicands",value:function(t){return this[A]=h.range(1,t+1),this.fire("setMultiplicands",t),this}},{key:"setDependent",value:function(t){return this[C]=t,this[X]=[this.termpool.get(P)],this.uncache(),this.fire("setDependent",t),this}},{key:"setColumns",value:function(t){return this[D]=t.slice(),this[X]=[this.termpool.get(P)],this.uncache(),this.fire("setColumns",t),this}},{key:"setLags",value:function(t){return t.every((function(t){return t>=0}))?(this[O]=t.slice(),this.fire("setLags",t),this):(this.fire("error","Cannot have negative lag"),this)}},{key:"subset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;if(this.uncache("X"),this.uncache("y"),this.uncache("data"),null==this[L][t])throw new ReferenceError("Cannot find data for '"+t+"'");return e=Array.isArray(e)?e.slice():h.range(e,n||this[L][t].shape[0]),this[I][t]=e,this.fire("subset",e),this}},{key:"addTerm",value:function(t){var e=this[X].find((function(e){return e.equals(t)}));return e||(e=this.termpool.get(t),this[X].push(e),this.uncache("X"),this.uncache("y")),this.uncache("highestLag"),this.fire("addTerm",t),this}},{key:"removeTerm",value:function(t){return this[X]=this[X].filter((function(e){return!e.equals(t)})),this.uncache("X"),this.uncache("y"),this.uncache("highestLag"),this.fire("removeTerm",t),this}},{key:"highestLag",value:function(){return this[X].reduce((function(t,e){return Math.max(t,e.lag)}),0)}},{key:"X",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v;if(null==this[L][t])throw new ReferenceError("Cannot find data for '"+t+"'");return this[X].reduce((function(e,n){return e.hstack(n.col(t))}),new c(this[I][t].length,0))}},{key:"y",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v;return this.data(t).subset(":",this[C])}},{key:"data",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v;if(null==this[L][t])throw new ReferenceError("Cannot find data for '"+t+"'");return this[L][t].subset(this[I][t])}},{key:"computeSensitivity",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v;if(null==t)return this;var n=this,r=n[L][v].shape[0],a=new c(r,1,new Array(r).fill(0));return this.terms.forEach((function(i){var o=!1,s=new c(r,1,new Array(r).fill(1)),u=2*i.getStats().coeff;i.valueOf().forEach((function(a){var i,u=a[0],f=a[1],h=n[L][e].col(u).data;u==t?(o=!0,i=l.compute("sensitivity_part",{data:h,exp:f,derivative:!0})):i=l.compute("sensitivity_part",{data:h,exp:f,derivative:!1}),s=s.dotMultiply(new c(r,1,i))})),o&&(a=a.add(s.dotMultiply(u)))})),{index:t,sensitivity:a.data}}},{key:"getSensitivity",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v,n=this.computeSensitivity(t,e);return this.fire("getSensitivity",n),this}},{key:"deleteSensitivity",value:function(t){return this.fire("deleteSensitivity",{index:t}),this}},{key:"updateSensitivity",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v,n=this.computeSensitivity(t,e);return this.fire("updateSensitivity",n),this}},{key:"computeImportanceRatio",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v;if(null==t)return this;var n=this,r=n[L][v].shape[0],a=n[L][e].col(t),i=n[L][e].col(n[C]),o=this.computeSensitivity(t,e).sensitivity;o=new c(r,1,o);var s=l.compute("mean",{X:a}),u=l.compute("std",{X:a,mean:s}),f=l.compute("mean",{X:i}),h=l.compute("std",{X:i,mean:f}),d=o.dotMultiply(u/h);return{index:t,importanceRatio:d.data}}},{key:"getImportanceRatio",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v,n=this.computeImportanceRatio(t,e);return this.fire("getImportanceRatio",n),this}},{key:"deleteImportanceRatio",value:function(t){return this.fire("deleteImportanceRatio",{index:t}),this}},{key:"updateImportanceRatio",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v,n=this.computeImportanceRatio(t,e);return this.fire("updateImportanceRatio",n),this}},{key:"labels",get:function(){var t=this;return Object.keys(this[I]).filter((function(e){return t[I][e]}))}},{key:"terms",get:function(){return this[X].slice()}}])&&a(e.prototype,n),x}(x(p));x.cache(j,"highestLag"),x.cache(j,"X",[v]),x.cache(j,"y",[v]),x.cache(j,"data",[v]),t.exports=j},21712:(t,e,n)=>{"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function o(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var u=n(45607),c=n(66911),f=n(86308).N,l=n(66030),h=n(7053),d=h.FIT_LABEL,p=h.CROSS_LABEL,y=Symbol("parts"),v=Symbol("model"),m=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(g,t);var e,n,r,u,h,m=(u=g,h=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=s(u);if(h){var n=s(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return o(this,t)});function g(t,e){var n;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,g),n=m.call(this),!e.every(Array.isArray))throw new TypeError("Part does not match: [col, exp (,lag)]");n[y]=e.map((function(t){if(t.length<2)throw new TypeError("Part does not match: [col, exp (,lag)]");return t.length<3?t.concat(0):t.slice()})),n[v]=t,n.isIntercept=0===e[0][0]&&0===e[0][1]&&1===e.length;try{n.col()}catch(t){}return n}return e=g,r=[{key:"hash",value:function(t){return t.valueOf().map((function(t){return"(".concat(t.concat(0).slice(0,3).toString(),")")})).toString()}}],(n=[{key:"getStats",value:function(){try{var t=f(this.X(d),this.y(d)),e=c(t),n=e.t.get(0,e.t.shape[0]-1),r=e.pt.get(0,e.pt.shape[0]-1);return Object.assign(t,{X:this.X(p),y:this.y(p)}),(e=c(t)).coeff=e.weights.get(0,e.weights.shape[0]-1),e.t=n,e.pt=r,delete e.weights,e}catch(t){return console.error(t),NaN}}},{key:"X",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,e=Math.max(this[v].highestLag(),this.lag);try{return this[v].X(t).hstack(this.col(t)).lo(e)}catch(e){if(t!==d)return this.X(d);throw e}}},{key:"y",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,e=Math.max(this[v].highestLag(),this.lag);try{return this[v].y(t).lo(e)}catch(e){if(t!==d)return this.y(d);throw e}}},{key:"equals",value:function(t){return t=t.valueOf().map((function(t){return(t=t.concat(0)).length=3,t})),g.hash(t)===g.hash(this)}},{key:"valueOf",value:function(){return this[y].slice()}},{key:"col",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;try{var e,n,r=this[v].data(t),a=l.zeros(r.shape[0],1).add(1);for(e=0;e<this[y].length;e+=1){if((n=r.col(this[y][e][0])).max()*n.min()<=0&&this[y][e][1]<0)throw new Error("Divide by zero error for column ".concat(this[y][e][0]));a=a.dotMultiply(n.dotPow(this[y][e][1]).shift(this[y][e][2]))}return a}catch(e){if(t!==d)return this.col(d);throw e}}},{key:"inspect",value:function(t,e){return"Term < "+this[y].map((function(t){return String.fromCharCode(t[0]+97)+"^"+t[1]+"["+t[2]+"]"})).join(" * ")+" >"}},{key:"lag",get:function(){return Math.max.apply(null,this[y].map((function(t){return t[2]})))}}])&&a(e.prototype,n),r&&a(e,r),g}(u());u.cache(m,"col",[d]),t.exports=m},27746:(t,e,n)=>{function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var a=n(21712),i=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.model=e,this.terms={}}var e,n;return e=t,(n=[{key:"get",value:function(t){var e=this.terms[a.hash(t)];return e||(e=new a(this.model,t),this.terms[a.hash(e.valueOf())]=e),e}},{key:"uncache",value:function(){Object.values(this.terms).forEach((function(t){return t.uncache("col")}))}}])&&r(e.prototype,n),t}();t.exports=i},18936:(t,e,n)=>{"use strict";var r=n(47483),a=function t(e,n){var a,i=[];if(n<1)return i;if(e.length<=0)return i;if(1===n)return r.join(e).map((function(t){return[t]}));for(a=0;a<e[0].length;a+=1){var o=t(e.slice(1),n-1);i=i.concat(o.map((function(t){return[e[0][a]].concat(t)})))}return i.concat(t(e.slice(1),n))};t.exports.generateTerms=function(t,e,n,i,o){var s=e.map((function(t){return r.join(n.map((function(e){return o.map((function(n){return[t,e,n]}))})))}));return o=o.filter((function(t){return t>0})),s.unshift(r.join(n.map((function(e){return o.map((function(n){return[t,e,n]}))})))),r.join(i.map((function(t){return a(s,t)})))},t.exports.combinations=function t(e,n,r){var a,i=[];if(n<1)return i;if(1===n)return e.map((function(t){return[t]}));for(a=0;a<e.length;a+=1){var o=t(e.slice(a+!r),n-1,r);i=i.concat(o.map((function(t){return[e[a]].concat(t)})))}return i},t.exports.combinationsFromBins=a},32173:(t,e,n)=>{t.exports=n(88811)},22673:t=>{function e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var n=Symbol("events"),r=Symbol("listeners"),a=Symbol("listenerCount"),i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this[n]={},this[r]={},this[a]=0}var i,o;return i=t,(o=[{key:"on",value:function(t,e){var i=this;if(Array.isArray(t))return t.map((function(t){return i.on(t,e)}));var o=this[a]+=1;return this[r][o]=e,this[n][t]||(this[n][t]=[]),this[n][t].push(o),o}},{key:"removeListener",value:function(t){var e=this;return Array.isArray(t)?t.every((function(n){return e.removeListener(n,t)})):(delete this[r][t],Object.keys(this[n]).forEach((function(r){return e[n][r]=e[n][r].filter((function(e){return e!==t}))})),!0)}},{key:"fire",value:function(t,e){var a=this;this[n][t]||(this[n][t]=[]),this[n][t].forEach((function(t){return a[r][t](e)}))}}])&&e(i.prototype,o),t}();t.exports=i},18436:(t,e,n)=>{t.exports=n(22673)},62182:(t,e,n)=>{var r=n(47483),a=Date.now();if(void 0===u)var i=function(t){this.startTime=Date.now()-a,this.duration=0,this.entryType="mark",this.name=t,s.push(this)},o=function(t,e,n){for(var r=Date.now()-a,i=s.length-1;i>=0&&s[i].name!==e&&"mark"!==s[i].type;)i-=1;for(e=i>=0?s[i]:{startTime:0},i=s.length-1;i>=0&&s[i].name!==n&&"mark"!==s[i].type;)i-=1;n=i>=0?s[i]:{startTime:r},this.startTime=e.startTime,this.duration=n.startTime-e.startTime,this.name=t,this.entryType="measure",s.push(this)},s=[],u={mark:function(t){new i(t)},measure:function(t,e,n){new o(t,e,n)},getEntriesByName:function(t){return s.filter((function(e){return e.name===t}))},getEntries:function(){return s.slice()},getEntriesByType:function(t){return s.filter((function(e){return e.entryType===t}))}};function c(t){var e=u.getEntriesByName(t+":measure");return e.reduce((function(t,e){return t+e.duration}),0)/e.length}t.exports={start:function(t){u.mark(t+":start")},end:function(t){u.mark(t+":end"),u.measure(t+":measure",t+":start",t+":end")},getMeanDuration:c,log:function(t){var e=console.log;console.debug&&(e=console.debug),e("[Performance] ".concat(t,": ").concat(c(t),"ms (avg)"))},report:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=console.log;console.debug&&(n=console.debug);var a=u.getEntriesByName(t+":measure").slice(-e),i=a.reduce((function(t,e){return Math.max(t,Math.floor(Math.log10(e.duration)+1))}),0);n("[Performance] ".concat(t," (report)")),a.forEach((function(e){return n("  ".concat(t,": ").concat(r.formatNum(i,4,e.duration,0),"ms"))}))}}},86308:(t,e,n)=>{n(90401),t.exports.N=n(26873).lstsqSVD},26873:(t,e,n)=>{"use strict";var r=n(66030),a=n(90401),i=(n(66911),n(83453));n(47483),t.exports.lstsqSVD=function(t,e,n){var i,o=a(t),s=o[0],u=r.from(o[1]),c=o[2],f=c.dotDivide(u).dotPow(2),l=n||function(t,e,n,r,a){var i,o,s=n,u=t.shape[0],c=t.shape[1],f=Number.EPSILON,l=Math.max.apply(null,s.data);for(i=0;i<c;i++)s.data[i]<Math.max(u,c)*f*l&&(s.data[i]=0);for(o=(o=e.T.dot(a)).dotDivide(s),i=0;i<c;i++)Math.abs(o.data[i])===1/0&&(o.data[i]=0);return r.dot(o)}(t,s,u,c,e),h=l.dotDivide(1);for(i=0;i<f.data.length;i+=1)(Math.abs(f.data[i])===1/0||isNaN(f.data[i]))&&(f.data[i]=0);return{X:t,y:e,BHat:l,VdivwSq:f,stdev:1,mean:0,weights:h,V:c,w:u}},t.exports.lstsqNE=function(t,e){var n=t.T,r=n.dot(t).inv(),a=r.dot(n).dot(e),o=t.dot(a),s=t.shape[0],u=t.shape[1],c=e.sub(o).dotPow(2).sum(),f=e.sub(e.sum()/e.shape[0]).dotPow(2).sum(),l=c/(s-u),h=1-c/f,d=1-l/(f/(s-1)),p=(f-c)/(u-1)/l,y=Math.log10(l)+u/s*2,v=Math.log10(l)+u*(Math.log10(s)/s),m=Math.sqrt(l),g=r.diag().abs().dotPow(.5).dotMultiply(m),b=a.dotDivide(g),w=b.clone();return w.data.set(w.data.map((function(t){return i.pt(t,s-u)}))),{weights:a,tstats:b,mse:l,rsq:h,adjrsq:d,f:p,pf:i.pf(p,u,s-u),aic:y,bic:v,pts:w}}},90401:(t,e,n)=>{"use strict";var r=n(66030);function a(t,e){var n=Math.abs(t),r=Math.abs(e);return n>r?n*Math.sqrt(1+Math.pow(r/n,2)):0===r?0:r*Math.sqrt(1+Math.pow(n/r,2))}t.exports=function(t){var e=Number.EPSILON,n=Number.MIN_VALUE/e;if(1+e<=1)throw new Error("Make eps bigger");if(n<=0)throw new Error("Make tol bigger");var i,o,s,u,c,f,l,h,d,p,y,v,m,g=t.clone(),b=g.shape[0],w=g.shape[1],S=[],k=[],M=new r(w,w),E=0,R=0;if(b<w)throw new Error("m is less than n");for(i=0;i<w;i++){for(S[i]=E,c=0,u=i+1,o=i;o<b;o++)c+=g.data[o*w+i]*g.data[o*w+i];if(c<n)E=0;else for(l=(f=g.data[i*w+i])*(E=f<0?Math.sqrt(c):-Math.sqrt(c))-c,g.data[i*w+i]=f-E,o=u;o<w;o++){for(c=0,s=i;s<b;s++)c+=g.data[s*w+i]*g.data[s*w+o];for(f=c/l,s=i;s<b;s++)g.data[s*w+o]=g.data[s*w+o]+f*g.data[s*w+i]}for(k[i]=E,c=0,o=u;o<w;o++)c+=g.data[i*w+o]*g.data[i*w+o];if(c<=n)E=0;else{for(l=(f=g.data[i*w+i+1])*(E=f<0?Math.sqrt(c):-Math.sqrt(c))-c,g.data[i*w+i+1]=f-E,o=u;o<w;o++)S[o]=g.data[i*w+o]/l;for(o=u;o<b;o++){for(c=0,s=u;s<w;s++)c+=g.data[o*w+s]*g.data[i*w+s];for(s=u;s<w;s++)g.data[o*w+s]=g.data[o*w+s]+c*S[s]}}(h=Math.abs(k[i])+Math.abs(S[i]))>R&&(R=h)}for(i=w-1;i>-1;i--){if(0!==E){for(l=E*g.data[i*w+i+1],o=u;o<w;o++)M.data[o*w+i]=g.data[i*w+o]/l;for(o=u;o<w;o++){for(c=0,s=u;s<w;s++)c+=g.data[i*w+s]*M.data[s*w+o];for(s=u;s<w;s++)M.data[s*w+o]+=c*M.data[s*w+i]}}for(o=u;o<w;o++)M.data[i*w+o]=0,M.data[o*w+i]=0;M.data[i*w+i]=1,E=S[i],u=i}for(i=w-1;i>-1;i--){for(u=i+1,E=k[i],o=u;o<w;o++)g.data[i*w+o]=0;if(0!==E){for(l=g.data[i*w+i]*E,o=u;o<w;o++){for(c=0,s=u;s<b;s++)c+=g.data[s*w+i]*g.data[s*w+o];for(f=c/l,s=i;s<b;s++)g.data[s*w+o]+=f*g.data[s*w+i]}for(o=i;o<b;o++)g.data[o*w+i]=g.data[o*w+i]/E}else for(o=i;o<b;o++)g.data[o*w+i]=0;g.data[i*w+i]+=1}for(e*=R,s=w-1;s>-1;s--)for(d=0;d<50;d++){for(u=s;u>-1;u--){if(p=!1,Math.abs(S[u])<=e){p=!0;break}if(Math.abs(k[u-1])<=e)break}if(!p)for(v=0,c=1,m=u-1,i=u;i<s+1&&(f=c*S[i],S[i]=v*S[i],!(Math.abs(f)<=e));i++)for(l=a(f,E=k[i]),k[i]=l,v=E/l,c=-f/l,o=0;o<b;o++)h=g.data[o*w+m],y=g.data[o*w+i],g.data[o*w+m]=h*v+y*c,g.data[o*w+i]=-h*c+y*v;if(y=k[s],u===s){if(y<0)for(k[s]=-y,o=0;o<w;o++)M.data[o*w+s]=-M.data[o*w+s];break}if(d>=49)throw new Error("SVD: No convergence");for(R=k[u],E=a(f=(((h=k[s-1])-y)*(h+y)+((E=S[s-1])-(l=S[s]))*(E+l))/(2*l*h),1),f=f<0?((R-y)*(R+y)+l*(h/(f-E)-l))/R:((R-y)*(R+y)+l*(h/(f+E)-l))/R,v=1,c=1,i=u+1;i<s+1;i++){for(E=S[i],h=k[i],l=c*E,E*=v,y=a(f,l),S[i-1]=y,f=R*(v=f/y)+E*(c=l/y),E=-R*c+E*v,l=h*c,h*=v,o=0;o<w;o++)R=M.data[o*w+i-1],y=M.data[o*w+i],M.data[o*w+i-1]=R*v+y*c,M.data[o*w+i]=-R*c+y*v;for(y=a(f,l),k[i-1]=y,f=(v=f/y)*E+(c=l/y)*h,R=-c*E+v*h,o=0;o<b;o++)h=g.data[o*w+i-1],y=g.data[o*w+i],g.data[o*w+i-1]=h*v+y*c,g.data[o*w+i]=-h*c+y*v}S[u]=0,S[s]=f,k[s]=R}return[g,k,M]}},86607:t=>{function e(t,a,i){return(e=n()?Reflect.construct:function(t,e,n){var a=[null];a.push.apply(a,e);var i=new(Function.bind.apply(t,a));return n&&r(i,n.prototype),i}).apply(null,arguments)}function n(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var i=function(){function t(e,n,r,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.name=e,this.args=n,this.fn=r}var e,n;return e=t,(n=[{key:"calc",value:function(t){return t[this.name]=this.fn(t),t}},{key:"inspect",value:function(t){return"".concat(this.name,"(").concat(this.args,")")}}])&&a(e.prototype,n),t}();t.exports=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e(i,n)}},52799:(t,e,n)=>{var r=n(86607),a=n(66030),i=n(83453);t.exports=[r("X",[],(function(t){return t.X})),r("y",[],(function(t){return t.y})),r("BHat",[],(function(t){return t.BHat})),r("yHat",["X","BHat"],(function(t){var e=t.X,n=t.BHat;return e.dot(n)})),r("nd",["X"],(function(t){return t.X.shape[0]})),r("np",["X"],(function(t){return t.X.shape[1]})),r("SSE",["y","yHat"],(function(t){var e=t.y,n=t.yHat;return e.sub(n).dotPow(2).sum()})),r("TSS",["y"],(function(t){var e=t.y;return e.sub(e.sum()/e.shape[0]).dotPow(2).sum()})),r("SSR",["TSS","SSE"],(function(t){return t.TSS-t.SSE})),r("Vary",["TSS","nd"],(function(t){return t.TSS/(t.nd-1)})),r("MSR",["SSR","np"],(function(t){return t.SSR/(t.np-1)})),r("SKEW",["y","yHat","nd"],(function(t){var e=t.y,n=t.yHat,r=t.nd,a=e.sub(n),i=a.sum()/a.shape[0],o=Math.sqrt(a.sub(i).dotPow(2).sum()/(r-1));return r*a.sub(i).dotPow(3).sum()/(r-1)/(r-2)/o/o/o})),r("XKURT",["y","yHat","nd"],(function(t){var e=t.y,n=t.yHat,r=t.nd,a=e.sub(n),i=a.sum()/a.shape[0],o=Math.sqrt(a.sub(i).dotPow(2).sum()/(r-1));return r*(r+1)*a.sub(i).dotPow(4).sum()/(r-1)/(r-2)/(r-3)/o/o/o/o-3*(r-1)*(r-1)/(r-2)/(r-3)})),r("seSKEW",["nd"],(function(t){var e=t.nd;return Math.sqrt(6/e)})),r("seXKURT",["nd"],(function(t){var e=t.nd;return Math.sqrt(24/e)})),r("MSE",["SSE","nd","np"],(function(t){return t.SSE/(t.nd-t.np)})),r("RMSE",["MSE"],(function(t){var e=t.MSE;return Math.sqrt(e)})),r("Rsq",["SSE","TSS"],(function(t){return 1-t.SSE/t.TSS})),r("adjRsq",["Rsq","np","nd"],(function(t){var e=t.Rsq,n=t.nd;return 1-(1-e)*(n-1)/(n-t.np)})),r("F",["MSR","MSE"],(function(t){return t.MSR/t.MSE})),r("AIC",["MSE","np","nd"],(function(t){var e=t.MSE,n=t.np,r=t.nd;return Math.log10(e)+n/r*2})),r("BIC",["MSE","np","nd"],(function(t){var e=t.MSE,n=t.np,r=t.nd;return Math.log10(e)+n*(Math.log10(r)/r)})),r("MaxAbsErr",["y","yHat"],(function(t){var e=t.y,n=t.yHat;return e.sub(n).abs().max()})),r("t",["X","VdivwSq","MSE","BHat"],(function(t){var e,n,r=t.X,i=t.VdivwSq,o=t.MSE,s=t.BHat,u=new a(1,r.shape[1]);for(n=0;n<r.shape[1];n+=1)e=Math.sqrt(i.row(n).sum()*o),u.data[n]=e;return s.dotDivide(u)})),r("pt",["t","np","nd"],(function(t){var e=t.t,n=t.np,r=t.nd,a=e.clone();return a.data.set(a.data.map((function(t){return Math.max(0,i.pt(t,r-n))}))),a})),r("pF",["F","np","nd"],(function(t){var e=t.F,n=t.np,r=t.nd;return Math.max(i.pf(Math.abs(e),n,r-n)-1e-15,0)})),r("log",["X"],(function(t){return t.X.log()})),r("mean",["X"],(function(t){var e=t.X;return e.data.reduce((function(t,e){return t+e}),0)/e.data.length})),r("std",["X","mean"],(function(t){var e=t.X,n=t.mean,r=e.data.map((function(t){return Math.pow(t-n,2)})).reduce((function(t,e){return t+e}),0);return Math.sqrt(r/e.data.length)})),r("standardize",["X","mean","std"],(function(t){var e=t.X,n=t.mean,r=t.std,a=e.clone();return a.data.set(a.data.map((function(t){return(t-n)/r}))),a})),r("RMS",["X"],(function(t){var e=t.X.clone(),n=e.data.map((function(t){return Math.pow(t,2)})).reduce((function(t,e){return t+e}),0);return Math.sqrt(n/e.data.length)})),r("rescale",["X","RMS"],(function(t){var e=t.X,n=t.RMS,r=e.clone();return r.data.set(r.data.map((function(t){return t/n}))),r})),r("k_order_difference",["X","k"],(function(t){var e=t.X,n=t.k;if(!n||isNaN(n))return e;var r=e.clone();return r.data.set(function t(e,n){return 1==n?e.map((function(t,r){return r<n?null:t-e[r-1]})):(k_1_order=t(e,n-1),e.map((function(t,e){return e<n?null:k_1_order[e]-k_1_order[e-1]})))}(r.data,n)),r})),r("sensitivity_part",["data","exp","derivative"],(function(t){var e=t.data,n=t.exp,r=t.derivative;return null==e?-1:r?e.map((function(t){return n*Math.pow(t,n-1)})):e.map((function(t){return Math.pow(t,n)}))}))]},83453:t=>{"use strict";function e(t,e,n,r){for(var a=1,i=a,o=e;o<=n;)i+=a*=t*o/(o-r),o+=2;return i}t.exports.pt=function(t,n){var r=(t=Math.abs(t))/Math.sqrt(n),a=Math.atan(r);if(1===n)return 1-a/(Math.PI/2);var i=Math.sin(a),o=Math.cos(a);return n%2==1?1-(a+i*o*e(o*o,2,n-3,-1))/(Math.PI/2):1-i*e(o*o,1,n-3,-1)},t.exports.pf=function(t,n,r){var a=r/(n*t+r);if(n%2==0)return e(1-a,r,n+r-4,r-2)*Math.pow(a,r/2);if(r%2==0)return 1-e(a,n,n+r-4,n-2)*Math.pow(1-a,n/2);var i=Math.atan(Math.sqrt(n*t/r)),o=i/(Math.PI/2),s=Math.sin(i),u=Math.cos(i);if(r>1&&(o+=s*u*e(u*u,2,r-3,-1)/(Math.PI/2)),1===n)return 1-o;var c=4*e(s*s,r+1,n+r-4,r-2)*s*Math.pow(u,r)/Math.PI;if(1===r)return 1-o+c/2;for(var f=2;f<=(r-1)/2;)c*=f/(f-.5),f+=1;return 1-o+c}},66911:(t,e,n)=>{n(86607);var r=n(36713),a=n(52799),i=n(43770),o=r(a);i.filter((function(t){return!t.show})),t.exports=function(t){return o.reduce((function(t,e){return e.calc(t)}),t)},t.exports.compute=function(t,e){if(stat_def=a.find((function(e){return e.name===t})),null==stat_def)throw new ReferenceError("Cannot find statistic '"+t+"'");return stat_def.calc(e)[t]}},36713:t=>{var e=function(t,e){var n=e.map((function(t){return t.name}));return t.args.filter((function(t){return n.includes(t)})).length};t.exports=function(t){for(var n,r=t.filter((function(t){return 0===t.args.length})),a=[],i=t.filter((function(t){return!r.includes(t)}));r.length>0;)n=r.shift(),i=i.filter((function(t){return t!==n})),a.push(n),r=r.concat(i.filter((function(t){return 0===e(t,i)}))),i=i.filter((function(t){return!r.includes(t)}));if(i.length>0)throw new Error("Statistics are co-dependent");return a}},47483:t=>{"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,e){return t=Math.max(0,t),Array(t+1).join(e)}var r=function(t){return n(t," ")};function a(t,e){return r(t-(""+(e=e||"")).length)+e}var i=t.exports.range=function(t,e){return t>=e?[]:Array(e-t).join(" ").split(" ").map((function(e,n){return n+t}))};t.exports.zeros=function(t){return Array(t).join(" ").split(" ").map((function(){return 0}))},t.exports.sum=function(t){return t.reduce((function(t,e){return t+e}))},t.exports.convertRange=function(e,n){var r,a,i;if("number"==typeof e)return e<0?[n+e]:[e];if("string"!=typeof e)return e.map((function(t){return t<0?n+t:t}));if((r=e.split(":")).length>1)return a=parseInt(r[0])||0,i=parseInt(r[1])||n,a<0&&(a=n+a),i<0&&(i=n+i),t.exports.range(a,i);throw new TypeError("Invalid range")},t.exports.formatNum=function(t,e,a){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:" ",o=(a=""+a).match(/(NaN|-?Infinity|-?\d*)\.?(\d*)/),s=o[1],u=o[2],c="";return u.length>e&&(u=u.slice(0,e)),c+=r(t-s.length)+s,""!==u||e>0?(c+=".",c+=u.slice(0,e)+n(e-u.length,i)):c+=r(e+1),c};var o=t.exports.padAll=function(t,e){return Array.isArray(e)?e.map((function(e){return o(t+e.length,e)})):"string"==typeof e?e.split("\n").map((function(e){return a(t+e.length,e)})).join("\n"):a(t,e)},s=t.exports.clone=function(t){if("object"!==e(t))return t;if(Array.isArray(t))return t.map(s);var n={};return Object.keys(t).forEach((function(e){return n[e]=s(t[e])})),n};t.exports.split=function(t,e){var n,r=i(0,e).map((function(){return[]}));for(n=0;n<t.length;n+=1)r[n%e].push(t[n]);return r},t.exports.splitToSize=function(t,e){var n,r,a=[];for(r=0,n=[];r<t.length;r+=1)n.push(t[r]),(r+1)%e==0&&(a.push(n),n=[]);return r%e!=0&&a.push(n),a},t.exports.join=function(t){return[].concat.apply([],t)},t.exports.sign=function(t){return t<0?-1:t>0?1:0},t.exports.argmax=function(t){return t.indexOf(Math.max.apply(null,t))}},89047:()=>{!function(){var t=!1;try{document}catch(e){t=!0}if(t){var e=self.postMessage;self.postMessage=function(t,n){try{e(t,n)}catch(t){console.warn(t.message)}},self.Worker=function(t){var e=this;this.id=Math.random().toString(36).substr(2,5),this.eventListeners={message:[]},self.addEventListener("message",(function(t){if(t.data._from===e.id){var n=new MessageEvent("message");n.initMessageEvent("message",!1,!1,t.data.message,e,"",null,[]),e.dispatchEvent(n),e.onmessage&&e.onmessage(n)}})),self.location.pathname;var n=t;self.postMessage({_subworker:!0,cmd:"newWorker",id:this.id,path:n})},Worker.prototype={onerror:null,onmessage:null,postMessage:function(t){self.postMessage({_subworker:!0,id:this.id,cmd:"passMessage",message:t})},terminate:function(){self.postMessage({_subworker:!0,cmd:"terminate",id:this.id})},addEventListener:function(t,e,n){this.eventListeners[t]&&this.eventListeners[t].push(e)},removeEventListener:function(t,e,n){if(t in this.eventListeners){var r=this.eventListeners[t].indexOf(e);-1!==r&&this.eventListeners[t].splice(r,1)}},dispatchEvent:function(t){for(var e=this.eventListeners[t.type],n=0;n<e.length;n++)e[n](t)}}}var n={},r={newWorker:function(t){var e=new Worker(t.data.path);e.addEventListener("message",(function(e){var n={_from:t.data.id,message:e.data};t.target.postMessage(n)})),n[t.data.id]=e},terminate:function(t){n[t.data.id].terminate()},passMessage:function(t){n[t.data.id].postMessage(t.data.message)}},a=function(t){t.data._subworker&&r[t.data.cmd](t)},i=window.Worker;window.Worker=function(t){var e=t.indexOf("blob:");-1!==e&&0!==e&&(t=t.substring(e));var n=new i(t);return n.addEventListener("message",a),n}}()}},e={};function n(r){if(e[r])return e[r].exports;var a=e[r]={exports:{}};return t[r](a,a.exports,n),a.exports}(()=>{"use strict";n(89047);var t=n(62182),e=n(43770),r=n(32173),a=n(7053),i=a.FIT_LABEL,o=a.CROSS_LABEL,s=a.VALIDATION_LABEL,u=a.LOG,c=a.K_ORDER_DIFFERENCE,f=a.STANDARDIZE,l=a.RESCALE,h=a.DELETE,d=n(35493),p=function(){var e=new r;return e.on("getCandidates.start",(function(){return postMessage({type:"progress.start",data:{}})})),e.on("getCandidates.start",(function(){return t.start("get-candidates")})),e.on("getCandidates.end",(function(){t.end("get-candidates"),t.report("get-candidates",3)})),e.on("getCandidates.each",(function(t){t.curr%50==0&&postMessage({type:"progress",data:{curr:t.curr,total:t.total}})})),e.on("getCandidates.end",(function(){return postMessage({type:"progress.end",data:{}})})),e.on("dataTransform",(function(){postMessage({type:"data:transform",data:{fit:e.getLabelData(i)?e.getLabelData(i).toJSON():void 0,cross:e.getLabelData(o)?e.getLabelData(o).toJSON():void 0,validation:e.getLabelData(s)?e.getLabelData(s).toJSON():void 0}})})),e.on("propogateTransform",(function(t){postMessage({type:"propogateTransform",data:{data_label:t.data_label}})})),e.on("error",(function(t){return postMessage({type:"error",data:t})})),e.on("getSensitivity",(function(t){postMessage({type:"model:getSensitivity",data:t})})),e.on("deleteSensitivity",(function(t){postMessage({type:"model:deleteSensitivity",data:t})})),e.on("updateSensitivity",(function(t){postMessage({type:"model:updateSensitivity",data:t})})),e.on("getImportanceRatio",(function(t){postMessage({type:"model:getImportanceRatio",data:t})})),e.on("deleteImportanceRatio",(function(t){postMessage({type:"model:deleteImportanceRatio",data:t})})),e.on("updateImportanceRatio",(function(t){postMessage({type:"model:updateImportanceRatio",data:t})})),e}(),y=[];onmessage=function(t){if(null==t.data._from){var n=t.data.type,a=t.data.data;switch(function(){var t;(t=console).debug.apply(t,["[Engine]:"].concat(Array.prototype.slice.call(arguments)))}(t.data),n){case"setExponents":case"setMultiplicands":case"setDependent":case"setColumns":case"setLags":case"addTerm":case"removeTerm":case"clear":p[n](a);break;case"setData":p[n](a.data,a.label);break;case"getTerms":postMessage({type:"candidates",data:p.getCandidates()});break;case"getStatisticsMetadata":postMessage({type:"statisticsMetadata",data:e});break;case"subscribeToChanges":!function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t.removeListener(y),y=t.on(["setData","setExponents","setMultiplicands","setDependent","setLags","addTerm","removeTerm","clear","subset","setColumns","getSensitivity","deleteSensitivity","updateSensitivity","getImportanceRatio","deleteImportanceRatio","updateImportanceRatio"],(function(){t.getCandidates().then((function(t){return postMessage({type:"candidates",data:t})})),t.labels.forEach((function(e){return postMessage({type:"model:".concat(e),data:t.getModel(e)})}))})),e&&t.fire("setData")}(p);break;case"unsubscribeToChanges":!function(t){t.removeListener(y)}(p);break;case"subset":p.subset(a.label,a.start,a.end);break;case"transformData":switch(a.label){case d.Transform.delete:p.transformColumn(h,{index:a.index,data_labels:a.data_labels});break;case d.Transform.log:p.transformColumn(u,{index:a.index,data_labels:a.data_labels});break;case d.Transform.k_order_diff:p.transformColumn(c,{index:a.index,k:a.k,data_labels:a.data_labels});break;case d.Transform.standardize:p.transformColumn(f,{index:a.index,data_labels:a.data_labels});break;case d.Transform.rescale:p.transformColumn(l,{index:a.index,data_labels:a.data_labels})}break;case"getSensitivity":p.getSensitivity(a);break;case"deleteSensitivity":p.deleteSensitivity(a);break;case"updateSensitivity":p.updateSensitivity(a);break;case"getImportanceRatio":p.getImportanceRatio(a);break;case"deleteImportanceRatio":p.deleteImportanceRatio(a);break;case"updateImportanceRatio":p.updateImportanceRatio(a);break;case"reset":p=new r;break;default:postMessage({type:"error",data:"Invalid type: "+n})}}}})()})();